import telebot
token = ""
name = 0
main = 0
one = 0
two = 0
three = 0
four = 0
five = 0
end = 0
bot = telebot.TeleBot(token)


# –ü–µ—Ä–≤–∞—è –ª–æ–∫–∞—Ü–∏—è, –Ω–∞—á–∞–ª–æ –∏—Å—Ç–æ—Ä–∏–∏*******************************************************************
@bot.message_handler(commands=['start'])
def start(message):
    bot.send_message(message.chat.id, '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π –ø—É—Ç–Ω–∏–∫, —Ç—ã –≥–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å —Å–≤–æ—ë –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ(–¥–∞ –∏–ª–∏ –Ω–µ—Ç)?')
    bot.register_next_step_handler(message, start_story)


@bot.callback_query_handler(func=lambda callback: True)
def func(callback):
    if callback.data == 'btn_1':
        markup = telebot.types.InlineKeyboardMarkup()
        btn_1 = telebot.types.InlineKeyboardButton('–í—Å—Ç—É–ø–∏—Ç—å –≤ –¥—Ä–∞–∫—É', callback_data='btn_3')
        btn_2 = telebot.types.InlineKeyboardButton('–ù–µ —Ä–∏—Å–∫–æ–≤–∞—Ç—å', callback_data='btn_4')
        markup.add(btn_1, btn_2)
        bot.send_message(callback.message.chat.id, '–ò–¥—è –ø–æ –ª–µ—Å—É –≤—ã –¥—É–º–∞–µ—Ç–µ –æ —Å–≤–æ—ë–º –±—É–¥—É—â–µ–º, –ø—Ä–µ–¥–∫–∞—Ö, –∏—Å—Ç–æ—Ä–∏–∏ –≤–∞—à–µ–π —Å–µ–º—å–∏. –í–∞—à–∏ –º—ã—Å–ª–∏ –ø—Ä–∏—Ä—ã–≤–∞–µ—Ç –≥—Ä–æ–º–∫–∏–π –∫—Ä–∏–∫ —Å–∑–∞–¥–∏. –û–±–æ—Ä–∞—á–∏–≤–∞—è—Å—å –≤—ã –≤–∏–¥–∏—Ç–µ –≥—Ä—É–ø–ø—É –ª—é–¥–µ–π –∏–∑ —Ç—Ä—ë—Ö —á–µ–ª–æ–≤–µ–∫. –ò—Ö –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ –≤—ã–≥–ª—è–¥–∏—Ç '
'–¥–æ–≤–æ–ª—å–Ω–æ —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ. –ü–æ–¥—Ö–æ–¥—è –∫ –≤–∞–º –æ–Ω–∏ –¥–≤—É—Ö—Å–º—ã—Å–ª–µ–Ω–æ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –Ω–µ –±—É–¥–µ—Ç –ª–∏ —É –≤–∞—Å –ø–∞—Ä—É –º–æ–Ω–µ—Ç, –∏–∑ –ø–æ–¥ –ø–ª–∞—â–∞ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–º–µ—Ç–∏—Ç—å —Ä—É—á–∫—É –∫–∏–Ω–∂–∞–ª–∞. –í—ã –Ω–∞—á–∏–Ω–∞–µ—Ç–µ –æ—Ü–µ–Ω–∏–≤–∞—Ç—å –∏—Ö –∏ –¥—É–º–∞—Ç—å –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –≤–∞–º –ø–æ—Å—Ç—É–ø–∏—Ç—å.', reply_markup=markup)
    elif callback.data == 'btn_3':
        bot.send_message(callback.message.chat.id, '–ö—É–¥–∞')
        bot.send_message(callback.message.chat.id, "–î–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è:")
        bot.register_next_step_handler(callback.message, story)
    elif callback.data == 'btn_4':
        bot.send_message(callback.message.chat.id, '–û—Ü–µ–Ω–∏–≤ –∏—Ö –≤—ã —Ä–µ—à–∞–µ—Ç–µ –Ω–µ –≤–ª–µ–∑–∞—Ç—å –≤ –¥—Ä–∞–∫—É –∏ –ø–æ—Å–ª—É—à–∞—Ç—å –∏—Ö. –í—ã –ª–µ–∑–∏—Ç–µ –≤ –∫–∞—Ä–º–∞–Ω –∑–∞ –∏–º–µ—é—â–∏–º–∏—Å—è —É –≤–∞—Å –¥–µ–Ω—å–≥–∞–º–∏ –∫–∞–∫ –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –≤ –≤–∞—à–µ –ª–∏—Ü–æ –ø—Ä–∏–ª–∏—Ç–∞–µ—Ç —É–¥–∞—Ä. –ü–∞–¥–∞—è –Ω–∞ –∑–µ–º–ª—é –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–º–µ—á–∞–µ—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π —É–¥–∞—Ä. –£ –≤–∞—Å –ø–æ–ª—É—á–∞–µ—Ç—Å—è –ø–∞—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ, –Ω–æ –±–∞–Ω–¥–∏—Ç —Ä–µ–∑–∫–æ –±—å—ë—Ç –≤–∞—Å –Ω–æ–≥–æ–π. –£–¥–∞—Ä –ø–æ–ø–∞–¥–∞–µ—Ç –≤–∞–º –ø—Ä—è–º–æ –≤ –≥—Ä—É–¥—å. –ü–æ—Å–ª–µ–¥–Ω–µ–µ —á—Ç–æ –≤—ã —É—Å–ø–µ–µ—Ç–µ –∑–∞–º–µ—Ç–∏—Ç—å —ç—Ç–æ –ª–µ—Ç–∞—â–∏–π –≤ –≤–∞—à—É —Å—Ç–æ—Ä–æ–Ω—É —É–¥–∞—Ä –Ω–æ–≥–æ–π. –í—ã —Ç–µ—Ä—è–µ—Ç–µ —Å–æ–∑–Ω–∞–Ω–∏–µ.')
        bot.send_message(callback.message.chat.id, '–û—á–Ω—É–ª–∏—Å—å –≤—ã —É–∂–µ –∑–∞–ø–æ–ª–Ω–æ—á—å. –í—ã –≤—Å–ø–æ–º–∏–Ω–∞–µ—Ç–µ —á—Ç–æ —Å –≤–∞–º–∏ –ø—Ä–æ–∏–∑–æ—à–ª–æ. –í—ã –Ω–∞—á–∏–Ω–∞–µ—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∞—Ç—å, –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –±–æ–ª—å –ø–æ –≤—Å–µ–º—É —Ç–µ–ª—É. –í—Å–ø–æ–º–∏–Ω–∞—è —É–¥–∞—Ä –Ω–æ–≥–æ–π –≤—ã –ø–æ–¥–Ω–∏–º–∞–µ—Ç–µ –º–∞–π–∫—É –∏ –∑–∞–º–µ—á–∞–µ—Ç–µ —Ä–∞–∑–±–∏—Ç—ã–π –ú–µ–¥–∞–ª—å–æ–Ω –Ω–∞ –≤–∞—à–µ–π —à–µ–µ. –°–∏–ª—å–Ω–æ —Ä–∞—Å—Å—Ç—Ä–æ–µ–≤—à–∏—Å—å –≤—ã –∏–¥–µ—Ç—ë –¥–æ–º–æ–π –¥—É–º–∞—è: –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —è –ø–æ—Å—Ç—É–ø–∏–ª? –ü–æ–¥ —Ä–∞—Å—Å—Ç—Ä–æ–µ–Ω—ã–µ –º—ã—Å–ª–∏ –≤—ã –¥–æ—Ö–æ–¥–∏—Ç–µ –¥–æ –¥–æ–º–∞. –ó–∞–π–¥—è –≤  –¥–æ–º –≤—ã –±—ã—Å—Ç—Ä–æ –ª–æ–∂–∏—Ç–µ—Å—å –≤ –∫—Ä–æ–≤–∞—Ç—å –∏ —Å–∞–º–∏ –Ω–µ –∑–∞–º–µ—á–∞–µ—Ç–µ –∫–∞–∫ –∑–∞—Å—ã–ø–∞–µ—Ç–µ.')
        bot.send_message(callback.message.chat.id, "–î–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è:")
        bot.register_next_step_handler(callback.message, story)
    elif callback.data == 'btn_2':
        bot.send_message(callback.message.chat.id, '–ù–µ–ø–æ–Ω')
        bot.send_message(callback.message.chat.id, "–î–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è:")
        bot.register_next_step_handler(callback.message, story)


def start_story(message):
    if message.text.lower() == '–¥–∞':
        markup = telebot.types.InlineKeyboardMarkup()
        btn_1 = telebot.types.InlineKeyboardButton('–ü–æ–π—Ç–∏ –Ω–∞ –ø—Ä–æ–≥—É–ª–∫—É –≤ –ª–µ—Å', callback_data='btn_1')
        btn_2 = telebot.types.InlineKeyboardButton('–ü–æ–π—Ç–∏ –≤—ã–ø–∏—Ç—å', callback_data='btn_2')
        markup.add(btn_1, btn_2)
        bot.send_message(message.chat.id, '–í—ã –∂–∏–≤—ë—Ç–µ –≤ –º–∏—Ä–µ –≥–¥–µ –∫–∞–∂–¥–∞—è —Ç—Ä–∞–≤–∏–Ω–∫–∞ –ø—Ä–æ–ø–∏—Ç–∞–Ω–∞ –º–∞–≥–∏–µ–π, –∞ –Ω–∞ –∑–µ–º–ª–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ–∏–∑–º–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ª—à–µ–±–Ω—ã—Ö —Å—É—â–µ—Å—Ç–≤. –í—Å—é –∂–∏–∑–Ω—å –≤—ã –∂–∏–ª–∏ –≤ –æ–±—ã—á–Ω–æ–π –¥–µ—Ä–µ–≤–Ω–µ —Å–æ —Å–≤–æ–µ–π —Å–µ–º—å—ë–π –Ω–∞ –∏—Ö —Ñ–∞–º–∏–ª—å–Ω–æ–π –∑–µ–º–ª–µ. –°–∞–º–∏ –≤—ã –∫–∞–∫ –∏ –≤—Å–µ —á–ª–µ–Ω—ã –≤–∞—à–µ–π —Å–µ–º—å–∏ –º–∞–≥–∏–µ–π –Ω–µ –æ–±–ª–∞–¥–∞–µ—Ç–µ. –°–µ–º–µ–π–Ω–æ–µ –¥—Ä–µ–≤–æ –≤–∞—à–µ–π —Å–µ–º—å–∏ –Ω–∞—á–∏–Ω–∞–ª–æ—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ–∫–æ–≤ –Ω–∞–∑–∞–¥, –±–æ–ª–µ–µ —Ä–∞–Ω–Ω–∏–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –±—ã–ª–∏ —É—Ç–µ—Ä–µ–Ω—ã. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á—Ç–æ –µ—Å—Ç—å —É –≤–∞—Å —ç—Ç–æ –∏—Ö —Å–µ–º–µ–π–Ω–∞—è —Ä–µ–ª–∏–∫–≤–∏—è –ø—Ä–µ–Ω–∞–¥–ª–µ–∂–∞—â–∞—è —Ç–≤–æ–µ–º—É –æ—á–µ–Ω—å –¥–∞–≤–Ω–µ–º—É –ø—Ä–µ–¥–∫—É - –ú–µ–¥–∞–ª—å–æ–Ω —Å –ø–æ–≤—è–∑–∫–æ–π –Ω–∞ —à–µ–µ. –° —Å–∞–º–æ–≥–æ –¥–µ—Ç—Å—Ç–≤–∞ –≤–∞–º —Å–∫–∞–∑–∞–ª–∏ —á—Ç–æ–±—ã —Ç—ã –±–µ—Ä–µ–≥ –µ–≥–æ –∏ –Ω–∏–∫–æ–≥–¥–∞ –≤ –∂–∏–∑–Ω–∏ –Ω–µ —Å–Ω–∏–º–∞–ª. –í—ã –≤—Å–µ–≥–¥–∞ –ø–æ–º–Ω–∏–ª–∏ —ç—Ç–æ –∏ –¥–∞–∂–µ –Ω–∞ –Ω–æ—á—å –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–Ω–∏–º–∞–ª–∏ –ú–µ–¥–∞–ª—å–æ–Ω.')
        bot.send_message(message.chat.id, '–í—ã –ø—Ä–æ—Å—ã–ø–∞–µ—Ç–µ—Å—å —Ä–∞–Ω–æ —É—Ç—Ä–æ–º. –ë—ã—Å—Ç—Ä–æ –≤—Å—Ç–∞–≤ –≤—ã –æ–¥–µ–≤–∞–µ—Ç–µ—Å—å –∏ —Å–ø—É—Å–∫–∞–µ—Ç–µ—Å—å –Ω–∞ –ø–µ—Ä–≤—ã–π —ç—Ç–∞–∂. –ó–∞—Ö–æ–¥—è –Ω–∞ –∫—É—Ö–Ω—é –≤—ã –≤–∏–¥–∏—Ç–µ –∫–æ—Ä–æ–±–∫—É –ø–æ—Å—Ä–µ–¥–∏ —Å—Ç–æ–ª–∞, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã –ø–æ–¥—Ö–æ–¥–∏—Ç–µ –∫ –Ω–µ–π –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤–∞—à–∏ —Ä–æ–¥–Ω—ã–µ –∏ –ø–æ–∑–¥—Ä–∞–≤–ª—è—é—Ç —Å –≤–∞—à–∏–º –≤–æ—Å–µ–º–Ω–∞–¥—Ü–∞—Ç–∏–ª–µ—Ç–∏–µ–º. –í—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ –∫–æ—Ä–æ–±–∫—É –∏ –≤–∏–¥–∏—Ç–µ —Ç–∞–º –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Ç–æ—Ä—Ç. –í–∞—à–∞ —Å–µ–º—å—è –∑–∞–≤—ë—Ç –≤–∞—Å –∑–∞ —Å—Ç–æ–ª –∏ –ø–æ—Å–ª–µ —á–µ–≥–æ –≤—ã –≤–µ—Å–µ–ª–æ  –ø—Ä–æ–≤–æ–¥–∏—Ç–µ –≤—Ä–µ–º—è –≤ –∫—Ä—É–≥—É —Å–µ–º—å–∏. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—ã –≤—ã—Ö–æ–¥–∏—Ç–µ –Ω–∞ —É–ª–∏—Ü—É –∏ –¥—É–º–∞–µ—Ç–µ —á–µ–º –≤–∞–º –∑–∞–Ω—è—Ç—å—Å—è.', reply_markup=markup)
    elif message.text.lower() == '–Ω–µ—Ç':
        bot.send_message(message.chat.id, '–ñ–∞–ª—åüò™üò™')
        bot.send_message(message.chat.id, '–ü—Ä–æ—â–∞–π')
    elif message.text == name:
        bot.send_message(message.chat.id, f'{name}')
        bot.send_message(message.chat.id, '/1 - –õ–µ—Å –≠–ª—å—Ñ–æ–≤\n'
                                          '/2 - –ü—É—Å—Ç—ã–Ω—è –û—Ä–∫–æ–≤\n'
                                          '/3 - –ü–æ–¥–∑–µ–º–µ–ª—å–µ –ù–µ—á–µ—Å—Ç–∏\n'
                                          '/4 - –ì–æ—Ä–∞ –î–≤–∞—Ä—Ñ–æ–≤\n'
                                          '/5 - –ü–∏—Ä–∞—Ç—Å–∫–∞—è –ë—É—Ö—Ç–∞\n'
                                          '/end - –ó–∞–±—ã—Ç—ã–µ —Ä–∞–∑–≤–∞–ª–∏–Ω—ã –ø—Ä–æ–∫–ª—è—Ç–æ–≥–æ –ö–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞')

def story(message):
    global main
    name = message.text
    bot.send_message(message.chat.id, f'{name}')
    bot.send_message(message.chat.id, '/1 - –õ–µ—Å –≠–ª—å—Ñ–æ–≤\n'
                                        '/2 - –ü—É—Å—Ç—ã–Ω—è –û—Ä–∫–æ–≤\n'
                                        '/3 - –ü–æ–¥–∑–µ–º–µ–ª—å–µ –ù–µ—á–µ—Å—Ç–∏\n'
                                        '/4 - –ì–æ—Ä–∞ –î–≤–∞—Ä—Ñ–æ–≤\n'
                                        '/5 - –ü–∏—Ä–∞—Ç—Å–∫–∞—è –ë—É—Ö—Ç–∞\n'
                                        '/end - –ó–∞–±—ã—Ç—ã–µ —Ä–∞–∑–≤–∞–ª–∏–Ω—ã –ø—Ä–æ–∫–ª—è—Ç–æ–≥–æ –ö–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞')
    main = 1
# *********************************************************************************************************************************


# –õ–µ—Å –≠–ª—å—Ñ–æ–≤***********************************************************************************************************************
@bot.message_handler(commands=['1'])
def one(message):
    global one
    if main:
        pass
        one = 1
    else:
        bot.send_message(message.chat.id, '–î–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —ç—Ç–æ–π –≥–ª–∞–≤—ã –ø—Ä–æ–π–¥–∏—Ç–µ /start')


# **********************************************************************************************************************************


# –ü—É—Å—Ç—ã–Ω—è –û—Ä–∫–æ–≤***********************************************************************************************************************
@bot.message_handler(commands=['2'])
def two(message):
    global two
    if main:
        pass
        two = 1
    else:
        bot.send_message(message.chat.id, '–î–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —ç—Ç–æ–π –≥–ª–∞–≤—ã –ø—Ä–æ–π–¥–∏—Ç–µ /start')
# ***************************************************************************************************************************************


# –ü–æ–¥–∑–µ–º–µ–ª—å–µ –Ω–µ—á–µ—Å—Ç–∏************************************************************************************************************************
@bot.message_handler(commands=['3'])
def three(message):
    global three
    if main:
        pass
        three = 1
    else:
        bot.send_message(message.chat.id, '–î–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —ç—Ç–æ–π –≥–ª–∞–≤—ã –ø—Ä–æ–π–¥–∏—Ç–µ /start')
# *******************************************************************************************************************************************


# –ì–æ—Ä–∞ –î–≤–∞—Ä—Ñ–æ–≤******************************************************************************************************************************
@bot.message_handler(commands=['4'])
def four(message):
    global four
    if main:
        pass
        four = 1
    else:
        bot.send_message(message.chat.id, '–î–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —ç—Ç–æ–π –≥–ª–∞–≤—ã –ø—Ä–æ–π–¥–∏—Ç–µ /start')
# ************************************************************************************************************************************************


# –ü–∏—Ä–∞—Ç—Å–∫–∞—è –ë—É—Ö—Ç–∞******************************************************************************************************************************
@bot.message_handler(commands=['5'])
def five(message):
    global five
    if main:
        pass
        five = 1
    else:
        bot.send_message(message.chat.id, '–î–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —ç—Ç–æ–π –≥–ª–∞–≤—ã –ø—Ä–æ–π–¥–∏—Ç–µ /start')
# ************************************************************************************************************************************************************************************************************************************************************


# –ó–∞–±—ã—Ç—ã–µ —Ä–∞–∑–≤–∞–ª–∏–Ω—ã –ø—Ä–æ–∫–ª—è—Ç–æ–≥–æ –ö–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–∞, –∫–æ–Ω–µ—Ü –∏—Å—Ç–æ—Ä–∏–∏# ************************************************************************************************************************************************
@bot.message_handler(commands=['end'])
def end(message):
    if one == 1 and two == 1 and three == 1 and four == 1 and five == 1:
        pass
    else:
        bot.send_message(message.chat.id, '–î–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —ç—Ç–æ–π –≥–ª–∞–≤—ã –ø—Ä–æ–π–¥–∏—Ç–µ –≥–ª–∞–≤—ã: /1\n /2\n /3\n /4\n /5')
# ************************************************************************************************************************************************************************************************************************************************************


bot.infinity_polling()